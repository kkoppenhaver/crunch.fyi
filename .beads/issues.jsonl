{"id":"crunch.fyi-3wo","title":"Add article caching layer","description":"Store generated articles on the file system for persistence and caching.\n\n## Storage Format\n- Location: `data/articles/{slug}.json`\n- Contains: Full ArticleData + metadata (source URL, generated timestamp)\n\n## API Endpoints\n- `GET /api/article/:slug` - Fetch cached article\n- `POST /api/generate` - Check cache first, return cached if exists\n\n## Implementation\n- Create data/articles directory\n- Save article JSON after generation\n- Load article by slug\n- Return cached article instead of regenerating","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T23:32:38.915129-06:00","updated_at":"2025-12-26T22:25:50.886693-06:00","closed_at":"2025-12-26T22:25:50.886693-06:00","close_reason":"Implemented shareable article URLs with React Router, file system storage, and cache lookup","dependencies":[{"issue_id":"crunch.fyi-3wo","depends_on_id":"crunch.fyi-52p","type":"blocks","created_at":"2025-12-24T23:33:04.518431-06:00","created_by":"keanan"},{"issue_id":"crunch.fyi-3wo","depends_on_id":"crunch.fyi-lig","type":"blocks","created_at":"2025-12-24T23:45:22.487376-06:00","created_by":"keanan"}]}
{"id":"crunch.fyi-52p","title":"Implement URL-to-slug conversion","description":"Convert GitHub URLs to article slugs using owner-repo format.\n\n## Format\n- Input: `https://github.com/anthropics/claude-code`\n- Output: `anthropics-claude-code`\n- Article URL: `/article/anthropics-claude-code`\n\n## Implementation\n- Extract owner and repo from GitHub URL\n- Slugify: lowercase, alphanumeric + hyphens only\n- Handle edge cases (trailing slashes, .git suffix, etc.)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T23:32:33.563606-06:00","updated_at":"2025-12-26T22:25:50.885709-06:00","closed_at":"2025-12-26T22:25:50.885709-06:00","close_reason":"Implemented shareable article URLs with React Router, file system storage, and cache lookup"}
{"id":"crunch.fyi-53x","title":"Security review: Protect against malicious repo cloning","description":"Review and harden the repo cloning functionality to ensure safety when users suggest potentially malicious repositories to be cloned to our server. Consider:\n- Input validation and sanitization of repo URLs\n- Sandboxing/isolation of cloned content\n- Resource limits (disk space, file count, clone timeout)\n- Blocking of dangerous git hooks or post-clone scripts\n- Path traversal prevention\n- Symlink attacks\n- Large file/history bombs (git bomb attacks)","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-25T00:06:24.036824-06:00","updated_at":"2025-12-25T00:06:24.036824-06:00"}
{"id":"crunch.fyi-9b9","title":"Handle direct article URL access","description":"When a user visits /article/:slug directly:\n- Check cache for existing article\n- If cached: display article\n- If not cached: show 'article not found' or redirect to homepage with URL pre-filled\n\nThis enables shareable links.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T23:32:44.26591-06:00","updated_at":"2025-12-26T22:25:50.887587-06:00","closed_at":"2025-12-26T22:25:50.887587-06:00","close_reason":"Implemented shareable article URLs with React Router, file system storage, and cache lookup","dependencies":[{"issue_id":"crunch.fyi-9b9","depends_on_id":"crunch.fyi-e42","type":"blocks","created_at":"2025-12-24T23:33:15.05239-06:00","created_by":"keanan"},{"issue_id":"crunch.fyi-9b9","depends_on_id":"crunch.fyi-3wo","type":"blocks","created_at":"2025-12-24T23:33:20.32168-06:00","created_by":"keanan"}]}
{"id":"crunch.fyi-dy2","title":"Add Langfuse observability for agent monitoring","description":"Integrate Langfuse for monitoring Claude Agent SDK runs:\n\n## Completed\n- [x] Install langfuse package\n- [x] Create observability/langfuse.ts module\n- [x] Instrument analyzeRepo.ts to trace agent turns\n- [x] Track actual token usage from SDK (input_tokens, output_tokens, cache tokens)\n- [x] Track total_cost_usd from result message\n- [x] Deduplicate usage by message ID\n- [x] Log generations with model name for Langfuse cost calculation\n\n## Configuration\nRequires env vars in api/.env:\n- LANGFUSE_PUBLIC_KEY\n- LANGFUSE_SECRET_KEY\n- LANGFUSE_BASE_URL","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T13:12:48.040995-06:00","updated_at":"2025-12-26T13:12:58.535012-06:00","closed_at":"2025-12-26T13:12:58.535012-06:00","close_reason":"Langfuse integration complete with full cost and token tracking from Claude Agent SDK"}
{"id":"crunch.fyi-e42","title":"Add URL-based routing with React Router","description":"Install React Router and implement:\n- / → Homepage\n- /article/:slug → ArticlePage\n\nThe slug should be derived from the GitHub URL (e.g., github.com/user/repo → user-repo)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T23:32:28.218863-06:00","updated_at":"2025-12-26T22:25:50.887027-06:00","closed_at":"2025-12-26T22:25:50.887027-06:00","close_reason":"Implemented shareable article URLs with React Router, file system storage, and cache lookup"}
{"id":"crunch.fyi-lig","title":"Set up Claude Agent SDK for article generation","description":"Integrate Claude Agent SDK to generate article content from URLs:\n- For GitHub URLs: crawl the repo (README, code structure, recent commits)\n- For website URLs: browse and extract key information\n- Generate TechCrunch-style satirical article based on gathered context\n- Return structured article data matching ArticlePage's expected format\n\nThis replaces the current hardcoded articleData in ArticlePage.jsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T23:40:45.00406-06:00","updated_at":"2025-12-26T13:12:33.010635-06:00","closed_at":"2025-12-26T13:12:33.010635-06:00","close_reason":"Claude Agent SDK integrated and working. Article generation uses the SDK with Bash, Read, Grep, Glob, Write tools."}
{"id":"crunch.fyi-na4","title":"Generate bespoke image for each article","description":"Create unique, article-specific images for each generated article. This could involve:\n- AI image generation based on article content/summary\n- Custom thumbnails for social sharing (Open Graph images)\n- Hero images for article headers\n- Consider caching generated images alongside article content\n- Image optimization for web delivery","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-25T00:09:16.548655-06:00","updated_at":"2025-12-25T00:09:16.548655-06:00"}
{"id":"crunch.fyi-oe2","title":"Evaluate cost optimization: deterministic analysis with prompt caching","description":"Evaluate the cost of a single run and consider making codebase analysis more deterministic.\n\n## Current Concern\n- Each run may involve multiple API calls with varying context\n- Cost and latency could be reduced with a more deterministic approach\n\n## Proposed Approach\n- Make codebase analysis deterministic (predictable, cacheable)\n- Single Claude API call with prompt caching for instructions\n- Only new context provided by backend tool\n- Could reduce both cost AND latency\n\n## Tasks\n- [ ] Measure current cost per run\n- [ ] Analyze current API call patterns\n- [ ] Design deterministic analysis flow\n- [ ] Estimate savings with prompt caching\n- [ ] Prototype and compare","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T17:57:16.688424-06:00","updated_at":"2025-12-25T17:57:16.688424-06:00"}
{"id":"crunch.fyi-wmc","title":"URL-to-article mapping with caching and shareability","description":"Each unique URL pasted into the homepage should map to a unique, shareable article URL. Pasting the same URL returns the cached version, and articles can be shared via their URL.\n\n## Current State\n- Simple useState view switching (no router)\n- URLs passed but not actually used\n- Article content is hardcoded\n- No persistence, no caching\n\n## Requirements\n1. Unique article URLs derived from input URLs\n2. Cache lookup for previously generated articles\n3. Shareable article links that work when accessed directly\n4. Same input URL → same cached article","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-24T23:29:41.866141-06:00","updated_at":"2025-12-24T23:32:07.933987-06:00"}
{"id":"crunch.fyi-xbw","title":"Update Homepage to check cache before generating","description":"Modify Homepage flow:\n- On URL submit, convert to slug\n- Check if article exists in cache\n- If cached: navigate directly to article (skip loading animation)\n- If not cached: show generation flow, then cache result","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T23:32:49.608964-06:00","updated_at":"2025-12-26T22:25:50.887318-06:00","closed_at":"2025-12-26T22:25:50.887318-06:00","close_reason":"Implemented shareable article URLs with React Router, file system storage, and cache lookup","dependencies":[{"issue_id":"crunch.fyi-xbw","depends_on_id":"crunch.fyi-3wo","type":"blocks","created_at":"2025-12-24T23:33:09.77848-06:00","created_by":"keanan"}]}
